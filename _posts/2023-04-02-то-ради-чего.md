---
layout: post
title: "То ради чего: контекстно независимый запрос"
author: "Сергей Мишуров"
categories: общие вопросы
tags: [представление информации, запрос информации, семантический запрос]
image: чего-хочешь.jpg
annotation: Теперь, используя на наше воображение, представим "контекстно-независимую" последовательность шагов для извлечения информации из "семантически-обогащенных" и "контекстно-несвязанных" данных.
---

>*context-unbound source*

Используя на наше воображение, представим "контекстно-независимую" последовательность шагов для извлечения информации из "контекстно-несвязанных" (*context-unbound source*) данных.

Допустим нам надо из данных описанного [примера](компрометация-контекста) узнать учебные планы среднего образования каких профилей в данной школе были введены в 2021 году. Для решения этой задачи, как мы договаривались, у нас есть только окно (консоль) для отправки запроса к семантически организованной базе (RDF-представление данных).

При этом о том, как организованы данные в базе мы знаем только следующее:

- в базе хранятся описания *сущностей*, каждая их которых представленна в виде индентификатора (URI), состоящего из набора букв из известного нам алфавита;
- сущности могут иметь *признаки*, которые имеют уникальные имена сотавленные из букв известного алфавита; имя признака, кстати, не обязетльно должно быть записано в человеко читаемой форме;
- признак может иметь *значение*, представленное набором букв известного алфавита, и имеющее одну из двух форм:
  - произвольная *фраза* на известном нам *языке* (не обязательно русском, а, например, на ассемблере или на языке записи кодов библиотечно-библиографического классификатора);
  - указатель на какую-либо сущность, т.е. идентификатор (URI) сущности;
- предполагается наличие как минимум двух предзаданных сущностей:
  - родительский *класс* (здесь *"класс"* - элемент онтологии) для всех сущностей;
  - родительский класс для всех классов ;
- среди признаков есть также пара предзаданных:
  - укзазывает на принадлежность сущности к некоторому классу  - содержит идентификатор класса (класс здесь понимается как сущность, относящаяся к классу "класс");
  - содержит человеко читаемое описание сущности (на известном нам языке, например, русском).

Итак, нам известны все использованные алфавиты. Нам такеж известен язык (или языки), который использован для записи информации. Мы можем читать фразы на указанном языке (языках) и интерпретировать их в некотором *глобальном контексте*: в общем случае в общем контексте какого-либо естественного языка (например, русского) либо языка некоторой предметной области (например, системы строительных норм и правил принятых в РФ). В первом случае мы предполагаем, что нам известен (доступен) весь контекст, который существует в естественном языке, включая и СНиПы. Во втором случае нам известен только некоторый специальный контекст, например, система понятий и терминов СНиП и контексты, необходимые для его интерпретации. Мы предполагаем, что указанный *глобальный контекс* известен и автору информации и читателю информации до такой степени, что одна и таже фраза будет ими интерпретирована (понята) одинково.

В этом случае логика построения запроса может быть такая:

1. Запросить из базы данных все имеющиеся классы сущностей.
1. Из полученного списка типов, выбрать такой класс, который по человеко читаемому описанию соответствует искомому - "учебный план".
1. Выбрать все сущности класса "учебный план".
1. Для всех найденных сущностей типа "учебный план" запросить все признаки, которые у этих сущностей встречаются.
1. Из полученного списка имен признаков на основе человеко читаемого описания признаков выбрать такие признаки, которые содержат информацию о годе введения, об уровне образования и о профиле учебного плана.
1. Для всех сущностей, отрносящихся к классу, "учебный план" и имеющих следующие значения признаков: "год введения" = "2021" и "уровень образования" = "среднее образование", вывести значение признака "профиль учебного плана".

Специфический (формализованный) язык запросов к семантически-обогащенным данным называется SPARQL. С его помощью все указанные выше шаги можно "упаковать" в один запрос.

Итоговый запрос, сконструированный по приведенному алгоритму, может выглядеть примерно так (<a target="_blank" href="http://ovz2.j40045666.px7zm.vps.myjino.ru:49408/#/dataset/tmp.lipers24.ru/query?query=PREFIX%20%3A%20%3Chttps%3A%2F%2Fsemantics.lipers24.ru%2Fschema%2F%3E%0APREFIX%20%D0%BE%D0%BD%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%3A%20%3Chttps%3A%2F%2Fsemantics.lipers24.ru%2F%D0%BE%D0%BD%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%2F%3E%0APREFIX%20rdf%3A%20%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0A%0ASELECT%20%3F%D1%83%D1%87%D0%B5%D0%B1%D0%BD%D1%8B%D0%B9%D0%9F%D0%BB%D0%B0%D0%BD%20%3F%D0%BF%D1%80%D0%BE%D1%84%D0%B8%D0%BB%D1%8C%20WHERE%20%7B%0A%20%20GRAPH%20%3Fg%20%7B%0A%20%20%20%20%3F%D1%83%D1%87%D0%B5%D0%B1%D0%BD%D1%8B%D0%B9%D0%9F%D0%BB%D0%B0%D0%BD%20rdf%3Atype%20%D0%BE%D0%BD%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%3A%D1%83%D1%87%D0%B5%D0%B1%D0%BD%D1%8B%D0%B9%D0%9F%D0%BB%D0%B0%D0%BD%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%D1%83%D1%80%D0%BE%D0%B2%D0%B5%D0%BD%D1%8C%D0%9E%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20%3Chttps%3A%2F%2Fsemantics.lipers24.ru%2F%D1%80%D0%B5%D1%81%D1%83%D1%80%D1%81%D1%8B%2F%D1%83%D1%80%D0%BE%D0%B2%D0%BD%D0%B8%D0%9E%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%23%D0%A1%D0%9E%3E%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%D0%B3%D0%BE%D0%B4%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F%20%222021%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%D0%BF%D1%80%D0%BE%D1%84%D0%B8%D0%BB%D1%8C%D0%A3%D1%87%D0%B5%D0%B1%D0%BD%D0%BE%D0%B3%D0%BE%D0%9F%D0%BB%D0%B0%D0%BD%D0%B0%20%3F%D0%BF%D1%80%D0%BE%D1%84%D0%B8%D0%BB%D1%8C%0A%20%20%7D%0A%7D">попробовать</a> - для запуска в открывшемся по ссылке окне запроса нажать на черный треугольничек):.

```sparql
    PREFIX : <https://semantics.lipers24.ru/schema/>
    PREFIX онтология: <https://semantics.lipers24.ru/онтология/>
    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>

    SELECT ?учебныйПлан ?профиль WHERE {
        GRAPH ?g {
            ?учебныйПлан rdf:type онтология:учебныйПлан;
                        :уровеньОбразования <https://semantics.lipers24.ru/ресурсы/уровниОбразования#СО>;
                        :годВведения "2021";
                        :профильУчебногоПлана ?профиль
        }
    }
```

Таким образом, при соблюдении некоторого минимального набора требований к RDF-описаниям, можно практически полностью исключить зависимость информации, хранящейся в базе данных, от специфического контекста. Это существенно расширяет возможности для обмена информацией не только "в пространстве", но и "во времени". В том числе становится возможным сохранить жизнеспособность информационной системы предприятия и после того, как уволился администратор (архитектор, системный аналитик) базы данных.

### Шаг вперед

В информационной модели организации (вообще некоторого сообщества) полезной практикой, которая позволит сделать процесс поиска еще более компактным, является использование так называемого "семантического контракта". Его можно охарактеризовать как некоторое соглашение, содержащие принятые сообществом правила представления информации в коллективном "информационном Универсуме" ([некоторые примеры сценариев использования "семантического контракта" для обмена информацией](https://ldivanovo.wordpress.com/)).
